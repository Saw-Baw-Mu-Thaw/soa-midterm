<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaction History - iBanking</title>
    <link rel="stylesheet" href="transaction_history_styles.css">
</head>

<body>
    <!-- Header Navigation -->
    <header class="header">
        <div class="header-container">
            <div class="logo">iBanking</div>
            <nav class="nav-menu">
                <a href="index.html" class="nav-link">Make Payment</a>
                <a href="transaction_history.html" class="nav-link active">Transaction History</a>
            </nav>
            <div class="user-section">
                <div class="user-details">
                    <div class="user-name" id="headerUserName">John Doe</div>
                    <div class="user-balance">Balance: <span id="headerBalance">4,600,000 Ä‘</span></div>
                </div>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="history-container">
            <div class="history-card">
                <h1 class="page-title">Transaction History</h1>
                <p class="page-subtitle">Your recent tuition payments</p>

                <!-- Loading State -->
                <div id="loadingState" class="loading-state" style="display: none;">
                    <div class="loading-spinner-large"></div>
                    <p>Loading transactions...</p>
                </div>

                <!-- Empty State -->
                <div id="emptyState" class="empty-state" style="display: none;">
                    <div class="empty-icon">ðŸ“‹</div>
                    <h3>No Transactions Yet</h3>
                    <p>You haven't made any tuition payments yet.</p>
                    <a href="index.html" class="btn btn-primary">Make Your First Payment</a>
                </div>

                <!-- Transactions List -->
                <div id="transactionsList" class="transactions-list">
                    <!-- Transactions will be dynamically loaded here -->
                </div>

                <!-- Refresh Button -->
                <div class="refresh-section">
                    <button class="refresh-btn" onclick="refreshTransactions()">
                        <span class="refresh-icon">â†»</span> Refresh
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Transaction Detail Modal -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Transaction Details</h2>
                <span class="close-modal" onclick="closeDetailModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="detail-section">
                    <h3>Transaction Information</h3>
                    <div class="detail-row">
                        <span class="detail-label">Transaction ID:</span>
                        <span class="detail-value" id="detailTxnId">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Status:</span>
                        <span class="detail-value" id="detailStatus">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Date & Time:</span>
                        <span class="detail-value" id="detailDateTime">-</span>
                    </div>
                </div>

                <div class="detail-section">
                    <h3>Payment Information</h3>
                    <div class="detail-row">
                        <span class="detail-label">Payer:</span>
                        <span class="detail-value" id="detailPayer">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Student ID:</span>
                        <span class="detail-value" id="detailStudentId">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Student Name:</span>
                        <span class="detail-value" id="detailStudentName">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Amount:</span>
                        <span class="detail-value amount-highlight" id="detailAmount">-</span>
                    </div>
                </div>

                <div class="detail-section">
                    <h3>Tuition Details</h3>
                    <div class="detail-row">
                        <span class="detail-label">Semester:</span>
                        <span class="detail-value" id="detailSemester">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Academic Year:</span>
                        <span class="detail-value" id="detailAcademicYear">-</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeDetailModal()">Close</button>
                <button class="btn btn-primary" onclick="downloadReceipt()">Download Receipt</button>
            </div>
        </div>
    </div>

    <script src="transaction_history.js"></script>
</body>

</html>